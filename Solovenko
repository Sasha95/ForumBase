/*CREATE OR REPLACE FUNCTION all_comments(post_id int) RETURNS SETOF RECORD AS
$$
BEGIN
	RETURN */
		WITH RECURSIVE included_comments(post_holder_id, id) AS (
		SELECT post_holder_id, id FROM post WHERE id = 5
		UNION ALL
		    SELECT pr.post_holder_id, pr.id
		    FROM included_comments pr, post p
		    WHERE p.id = pr.id
		  )
		SELECT post_holder_id, id FROM included_comments limit 1000
/*END;
$$ 
LANGUAGE plpgsql; 

SELECT all_comments(5)*/
